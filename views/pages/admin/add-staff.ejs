<%- include('../../partials/header') %>

<div class="page-content">
    <div class="page-header">
        <h1>Add New Staff</h1>
        <a href="/admin/staff" class="btn btn-outline">
            <i class="fas fa-arrow-left"></i> Back to Staff
        </a>
    </div>
    
    <% if (locals.error) { %>
        <div class="alert alert-error">
            <i class="fas fa-exclamation-triangle"></i>
            <%= error %>
        </div>
    <% } %>
    
    <form method="POST" action="/admin/staff/add" class="form-container">
        <div class="form-section">
            <h2>Personal Information</h2>
            <div class="form-grid">
                <div class="form-group">
                    <label for="name">Full Name *</label>
                    <input type="text" id="name" name="name" required>
                </div>
                
                <div class="form-group">
                    <label for="email">Email Address *</label>
                    <input type="email" id="email" name="email" required>
                </div>
                
                <div class="form-group">
                    <label for="password">Password *</label>
                    <input type="password" id="password" name="password" required minlength="6">
                    <small>Minimum 6 characters</small>
                </div>
                
                <div class="form-group">
                    <label for="role">Role *</label>
                    <select id="role" name="role" required>
                        <option value="">Select Role</option>
                        <option value="teacher">Teacher</option>
                        <option value="officer">Result Officer</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="phone">Phone Number</label>
                    <input type="tel" id="phone" name="phone">
                </div>
                
                <div class="form-group full-width">
                    <label for="address">Address</label>
                    <textarea id="address" name="address" rows="3"></textarea>
                </div>
            </div>
        </div>
        
        <div class="form-section">
            <h2>Assignments</h2>
            <div class="form-grid">
                <div class="form-group">
                    <label for="assignedClasses">Assigned Classes</label>
                    <select id="assignedClasses" name="assignedClasses" multiple>
                        <% classes.forEach(cls => { %>
                            <option value="<%= cls.className %>"><%= cls.className %></option>
                        <% }) %>
                    </select>
                    <small>Hold Ctrl/Cmd to select multiple classes</small>
                </div>
                
                <div class="form-group">
                    <label for="assignedSubjects">Assigned Subjects</label>
                    <select id="assignedSubjects" name="assignedSubjects" multiple>
                        <% subjects.forEach(subject => { %>
                            <option value="<%= subject._id %>"><%= subject._id %></option>
                        <% }) %>
                    </select>
                    <small>Hold Ctrl/Cmd to select multiple subjects</small>
                </div>
            </div>
        </div>
        
        <div class="form-actions">
            <button type="submit" class="btn btn-primary">
                <i class="fas fa-save"></i> Add Staff
            </button>
            <a href="/admin/staff" class="btn btn-outline">Cancel</a>
        </div>
    </form>
</div>

<%- include('../../partials/footer') %>